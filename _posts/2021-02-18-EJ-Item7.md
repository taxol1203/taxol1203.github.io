---
title: "Effective Java - Item 7"
last_modified_at: 2021-02-18 T22:17:00-05:00
toc: true
toc_sticky: true
header:
  teaser: /images/effective_Java.png
categories: 
  - Effective Java
tags:
---

> Effective Java

Item 7. 다 쓴 객체 참조를 해제하라
=============
## 메모리 누수
자바는 C, C++와 달리 메모리를 직접 관리하지 않아도 Garbage Collection를 통해 손쉽게 메모리를 관리할 수 있다.  
하지만, 자칫 메모리 관리에 더 이상 신경 쓰지 않아도 된다고 오해할 수 있는데, 오산이다.  
```java
import java.util.Arrays;
import java.util.EmptyStackException;

public class Stack {
    private Object[] elements;
    private int size = 0;
    private static final int DEFAULT_INITIAL_CAPACITY = 16;

    public Stack() {
      elements = new Object[DEFAULT_INITIAL_CAPACITY];
    }

    public void push(Object e) {
      ensureCapacity();
      elements[size++] = e;
    }

    public Object pop() {
        if (size == 0)
          throw new EmptyStackException();
        return elements[--size];          // 메모리 누수가 일어난다!!
    }

    private void ensureCapacity() {
        if (elements.length == size)
          elements = Arrays.copyOf(elements, 2 * size);
    }
}
```


## 정리

## 출처
Joshua Bloch. Effective Java 3/E. n.p.: 인사이트, 2018년 11월 1일.  